<!DOCTYPE html>
<html ng-app="app">
<head lang="en">
  <meta charset="UTF-8">
  <title>ng-workshop</title>
  <meta name="description" content="Interactive AngularJS Tutorial" />
  <meta name="keywords" content="AngularJS, AngularJS Tutorial" />
  <meta name="author" content="Kent C. Dodds" />

  <!-- Bring in Bootstrap css so things look nice by default -->
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css"/>

  <style>
    .highlight {
      background-color: yellow;
    }
  </style>

</head>
<body ng-controller="FeedbackCtrl as vm">


<div class="container" style="margin-bottom:100px">
  <h1>
    Feedback
    <span ng-if="vm.workshop.attendee">from {{vm.workshop.attendee}}</span>
  </h1>

  <form ng-submit="vm.sendFeedback(vm.workshop)" name="vm.feedbackForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input ng-model="vm.workshop.attendee" type="text" required class="form-control" id="name"/>
    </div>
    <div class="form-group">
      <label for="score">Score</label>
      <input  ng-model="vm.workshop.score" type="number" required min="1" max="10" class="form-control" id="score"/>
    </div>
    <div class="form-group">
      <label for="feedback">Feedback</label>
      <textarea ng-model="vm.workshop.feedback"
                placeholder="{{vm.workshop.score ? 'Why the ' + vm.workshop.score + '?' : ''}}"
                required
                id="feedback"
                class="form-control"
                rows="3"></textarea>
      <p class="help-block">Please be kind and honest :-)</p>
    </div>
    <div ng-if="vm.workshop.feedback">
      <strong>Preview</strong>
      <div>{{vm.workshop.feedback | amazing}}</div>
    </div>
    <check-human is-human="client.isHuman"></check-human>
    <button ng-disabled="!client.isHuman || vm.feedbackForm.$invalid"
            type="submit"
            class="btn btn-primary">
      Send Feedback
    </button>
  </form>

  <hr />
  <h1>Chat in real time with everyone else!</h1>

  <div class="form-group">
    <label for="chatName">Name</label>
    <input ng-model="vm.workshop.attendee" type="text" class="form-control" id="chatName"/>
  </div>
  <div class="form-group">
    <label for="message">Message</label>
    <input ng-model="vm.message" ng-disabled="!vm.workshop.attendee" ng-keydown="vm.addMessage($event)" type="text" class="form-control" id="message"/>
  </div>
  <div class="form-group">
    <label for="filter">Filter</label>
    <input ng-model="vm.filter" type="text" placeholder="Filter some of the messages!" class="form-control" id="filter"/>
  </div>

  <div scroll-glue class="well well-large" style="max-height:300px;overflow-y:scroll;font-size:130%;margin-top:20px;">
    <div ng-repeat="message in vm.messages | filter:vm.filter | awesomeReplace:'body':'Hi people!'">
      <strong ng-bind-html="::message.from | highlightSearch:vm.filter"></strong>: <span ng-bind-html="::message.body | highlightSearch:vm.filter"></span>
    </div>
    <small ng-if="!vm.messages.length" class="text-muted">
      There are no messages yet. Go ahead and send something!
    </small>
  </div>

  <img src="firebase-logo.png">

</div>



<!-- bring in angular -->
<script src="node_modules/angular/angular.js"></script>


<!-- bring in third parties -->
<script src="firebase-fix.js"></script>
<script src="node_modules/firebase/lib/firebase-web.js"></script>
<script src="node_modules/angularfire/dist/angularfire.js"></script>
<script src="node_modules/angularjs-scroll-glue/src/scrollglue.js"></script>

<!-- bring in our own stuff -->
<script src="app.js"></script>
<script src="check-human.js"></script>
<script src="amazing.js"></script>
<script src="FeedbackCtrl.js"></script>
<script src="Feedback.js"></script>
<script src="FirebaseUtil.js"></script>
<script src="highlightSearch.js"></script>
<script src="awesomeReplace.js"></script>

<!-- add livereload script so we don't have to refresh our browser on changes -->
<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>

</body>
</html>
